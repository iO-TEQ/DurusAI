# OVERVIEW OF THE DURO CONTROLLER CONFIGURATION

- The DURO controller's configuration is a json file that house everything such as database tags, modules like process logic or communication protocols, hmi views, etc.

Strict Schema Requirements
- All documented properties for HMI views and components must be present in the configuration, even when not actively used.
- When a property is not used, set it explicitly to its default value as defined in the specific docs (Views, Label, Button). This ensures consistent behavior across the editor and runtime.
- Examples below keep minimal properties for clarity; do not remove required properties when building a real configuration.

Controller configuration structure (based on the two examples):
- database: includes 'settings' for persistence/logging and a 'tags' map. Each tag defines type (e.g., Number, Text), dimensions, default value, and edit/logging flags.
- modules: a list of optional runtime modules; both examples leave this empty.
- hmi: defines UI 'views' with sizing/style and 'components'. Components (labels, buttons) have  coordinates, visibility, styles, and 'events' for interactivity (e.g., writeTag to update tag values).
- hmi.general: sets the 'defaultViewId' and the 'viewsTree' used for frontend HMI editor. Example 1 has a single 'MainView'; example 2 adds a 'Dashboard' view and a button to navigate.
- charts: reserved for trend/chart configuration; empty in the examples.

In example 1, the database has a single numeric tag and the HMI contains one default view with no components. In example 2, a text tag 'systemStatus' is added, the Dashboard view shows labels (including a live value bound to the tag), and Start/Stop controls write new values via click events, with navigation from MainView to Dashboard.

Examples: 

1) Here is a configuration with one number tag and a default hmi view:

{
   "database": {
      "settings": {
         "persistanceUpdateTime": 1,
         "maxDaysToLog": 10
      },
      "tags": {
         "_NewTag": {
            "arraydim": 1,
            "datatype": "Number",
            "value": 0,
            "config": {
               "persistent": false,
               "historic": false,
               "hidden": false,
               "editable": true
            }
         }
      }
   },
   "modules": [],
   "hmi": {
      "views": [
         {
            "id": "vw_default",
            "name": "MainView",
            "type": "view",
            "config": {
               "width": 1230,
               "height": 800,
               "style": {
                  "fontFamily": "None",
                  "font-weight": "none",
                  "fontSize.px": 16,
                  "color": "#000000",
                  "backgroundColor": "#ffffff",
                  "borderRadius.px": 0,
                  "borderStyle": "solid",
                  "borderColor": "#00000000",
                  "borderWidth.px": 0,
                  "boxShadow": "0px 0px 0px 0px #000000"
               },
               "sizeMode": "zoom"
            },
            "components": []
         }
      ],
      "general": {
         "defaultViewId": "vw_default",
         "mainView": null,
         "mainNavBtn": false,
         "viewsTree": [
            {
               "name": "MainView",
               "type": "view",
               "id": "vw_default"
            }
         ]
      }
   },
   "charts": []
}

2) This example has one tag, 'systemStatus', a text tag and a Dashboard HMI with two screens . The first screen is the 'MainView', it has a button to go to the next screen 'Dashboard'. In the Dashboard, there is a header "Dashboard", System Status and two buttons that can change the systemStatus tag value.

{
   "database": {
      "settings": {
         "persistanceUpdateTime": 1,
         "maxDaysToLog": 10
      },
      "tags": {
         "systemStatus": {
            "arraydim": 1,
            "datatype": "Text",
            "value": "Stop",
            "config": {
               "persistent": false,
               "historic": false,
               "hidden": false,
               "editable": true
            },
            "comment": "System Status. Options: \"Start\" or \"Stop\""
         }
      }
   },
   "modules": [],
   "hmi": {
      "views": [
         {
            "id": "vw_View",
            "name": "Dashboard",
            "type": "view",
            "config": {
               "width": 1024,
               "height": 760,
               "style": {},
               "sizeMode": "normal"
            },
            "components": [
               {
                  "id": "lbl_Start",
                  "viewId": "vw_View",
                  "type": "label",
                  "typeAbbr": "lbl_",
                  "comptName": "start_btn",
                  "visibility": true,
                  "w": 120,
                  "h": 60,
                  "y": 300,
                  "x": 50,
                  "zIndex": 0,
                  "rotationAngle": 0,
                  "sizeMode": "zoom",
                  "config": {
                     "placeholder": "Start",
                     "buttonMode": "false",
                     "style": {
                        "fontFamily": "Arial",
                        "font-weight": "normal",
                        "color": "#000000a3",
                        "backgroundColor": "#b0b0b0",
                        "border": "solid #000000 2px",
                        "feedback-fx": "scale(0.9) #ff0600 1.5s",
                        "box-shadow": "1px 1px 3px 0px #000000",
                        "align-items": "center",
                        "justify-content": "center"
                     }
                  },
                  "animation": {
                     "backgroundColor": "",
                     "border": "",
                     "text": "",
                     "visibility": "",
                     "color": ""
                  },
                  "events": {
                     "click": "writeTag(\"systemStatus\", \"Start\")"
                  }
               },
               {
                  "id": "lbl_Stop",
                  "viewId": "vw_View",
                  "type": "label",
                  "typeAbbr": "lbl_",
                  "comptName": "stop_btn",
                  "visibility": true,
                  "w": 120,
                  "h": 60,
                  "y": 300,
                  "x": 200,
                  "zIndex": 0,
                  "rotationAngle": 0,
                  "sizeMode": "zoom",
                  "config": {
                     "placeholder": "Stop",
                     "buttonMode": "false",
                     "style": {
                        "fontFamily": "Arial",
                        "font-weight": "normal",
                        "color": "#000000a3",
                        "backgroundColor": "#b0b0b0",
                        "border": "solid #000000 2px",
                        "feedback-fx": "scale(0.9) #ff0600 1.5s",
                        "box-shadow": "1px 1px 3px 0px #000000",
                        "justify-content": "center",
                        "align-items": "center"
                     }
                  },
                  "animation": {
                     "backgroundColor": "",
                     "border": "",
                     "text": "",
                     "visibility": "",
                     "color": ""
                  },
                  "events": {
                     "click": "writeTag(\"systemStatus\", \"Stop\")"
                  }
               },
               {
                  "id": "lbl_012e-fb39",
                  "viewId": "",
                  "type": "label",
                  "typeAbbr": "lbl_",
                  "comptName": "dashboard_lbl",
                  "visibility": true,
                  "w": 251.38686131386862,
                  "h": 54.16058394160581,
                  "y": 10.623131838386684,
                  "x": 362.3949651061629,
                  "zIndex": 0,
                  "rotationAngle": 0,
                  "sizeMode": "zoom",
                  "config": {
                     "placeholder": "Dashboard",
                     "buttonMode": "false",
                     "style": {
                        "justify-content": "center",
                        "align-items": "center",
                        "fontFamily": "Arial",
                        "fontSize.px": 30
                     }
                  },
                  "animation": {
                     "backgroundColor": "",
                     "border": "",
                     "text": "",
                     "visibility": "",
                     "color": ""
                  },
                  "events": {
                     "click": ""
                  }
               },
               {
                  "id": "lbl_4702-f86a",
                  "viewId": "",
                  "type": "label",
                  "typeAbbr": "lbl_",
                  "comptName": "system_status_lbl",
                  "visibility": true,
                  "w": 178.39416058394147,
                  "h": 36.642335766423344,
                  "y": 111.6906562530373,
                  "x": 103.89996146477336,
                  "zIndex": 0,
                  "rotationAngle": 0,
                  "sizeMode": "zoom",
                  "config": {
                     "placeholder": "System Status",
                     "buttonMode": "false",
                     "style": {
                        "justify-content": "center",
                        "align-items": "center",
                        "fontFamily": "Arial",
                        "fontSize.px": 24
                     }
                  },
                  "animation": {
                     "backgroundColor": "",
                     "border": "",
                     "text": "",
                     "visibility": "",
                     "color": ""
                  },
                  "events": {
                     "click": ""
                  }
               },
               {
                  "id": "lbl_b436-827a",
                  "viewId": "",
                  "type": "label",
                  "typeAbbr": "lbl_",
                  "comptName": "system_status_value_lbl",
                  "visibility": true,
                  "w": 178.39416058394147,
                  "h": 36.642335766423344,
                  "y": 143.7226404396847,
                  "x": 107.96272698527741,
                  "zIndex": 0,
                  "rotationAngle": 0,
                  "sizeMode": "zoom",
                  "config": {
                     "placeholder": "System Status",
                     "buttonMode": "false",
                     "style": {
                        "justify-content": "center",
                        "align-items": "center",
                        "fontFamily": "Arial",
                        "fontSize.px": 20
                     }
                  },
                  "animation": {
                     "backgroundColor": "",
                     "border": "",
                     "text": "systemStatus",
                     "visibility": "",
                     "color": ""
                  },
                  "events": {
                     "click": ""
                  }
               },
               {
                  "id": "lbl_009c-6847",
                  "viewId": "",
                  "type": "label",
                  "typeAbbr": "lbl_",
                  "comptName": "system_runtime_lbl",
                  "visibility": true,
                  "w": 200,
                  "h": 30,
                  "y": 240,
                  "x": 95,
                  "zIndex": 0,
                  "rotationAngle": 0,
                  "sizeMode": "zoom",
                  "config": {
                     "placeholder": "System Runtime",
                     "buttonMode": "false",
                     "style": {
                        "justify-content": "center",
                        "align-items": "center",
                        "fontFamily": "Arial",
                        "fontSize.px": 24
                     }
                  },
                  "animation": {
                     "backgroundColor": "",
                     "border": "",
                     "text": "",
                     "visibility": "",
                     "color": ""
                  },
                  "events": {
                     "click": ""
                  }
               }
            ]
         },
         {
            "id": "vw_default",
            "name": "MainView",
            "type": "view",
            "config": {
               "width": 1230,
               "height": 800,
               "style": {
                  "fontFamily": "None",
                  "font-weight": "none",
                  "fontSize.px": 16,
                  "color": "#000000",
                  "backgroundColor": "#ffffff",
                  "borderRadius.px": 0,
                  "borderStyle": "solid",
                  "borderColor": "#00000000",
                  "borderWidth.px": 0,
                  "boxShadow": "0px 0px 0px 0px #000000"
               },
               "sizeMode": "zoom"
            },
            "components": [
               {
                  "id": "lbl_d932-d9cb",
                  "viewId": "",
                  "type": "label",
                  "typeAbbr": "lbl_",
                  "comptName": "welcome_lbl",
                  "visibility": true,
                  "w": 1230,
                  "h": 800,
                  "y": 0,
                  "x": 0,
                  "zIndex": 0,
                  "rotationAngle": 0,
                  "sizeMode": "zoom",
                  "config": {
                     "placeholder": "Welcome!",
                     "buttonMode": "false",
                     "style": {
                        "justify-content": "center",
                        "align-items": "center",
                        "fontSize.px": 130,
                        "font-weight": "normal",
                        "color": "#000000a3",
                        "fontFamily": "Arial"
                     }
                  },
                  "animation": {
                     "backgroundColor": "",
                     "border": "",
                     "text": "",
                     "visibility": "",
                     "color": ""
                  },
                  "events": {
                     "click": ""
                  }
               },
               {
                  "id": "btn_f2f9-0f90",
                  "viewId": "",
                  "type": "button",
                  "typeAbbr": "btn_",
                  "comptName": "dashboard_btn",
                  "visibility": true,
                  "w": 120,
                  "h": 60,
                  "y": 500,
                  "x": 551,
                  "zIndex": 0,
                  "rotationAngle": 0,
                  "sizeMode": "zoom",
                  "config": {
                     "behavior": "release",
                     "text": "Dashboard",
                     "style": {
                        "fontSize.px": 18
                     },
                     "placeholderType": "text"
                  },
                  "animation": {
                     "backgroundColor": "",
                     "border": "",
                     "text": "",
                     "visibility": "",
                     "color": ""
                  },
                  "events": {
                     "click": "followLink(\"View\")",
                     "press": "",
                     "release": ""
                  }
               }
            ]
         }
      ],
      "general": {
         "defaultViewId": "vw_default",
         "mainView": null,
         "mainNavBtn": false,
         "viewsTree": [
            {
               "name": "MainView",
               "type": "view",
               "id": "vw_default"
            },
            {
               "name": "Dashboard",
               "type": "view",
               "id": "vw_View"
            }
         ]
      }
   },
   "charts": []
}